{"version":3,"sources":["components/Error.jsx","components/DateDifference.js","components/InfoDiffDate.jsx","App.js","index.js"],"names":["Error","props","className","message","DateDifference","date","this","stringData","dataDate","split","day","parseInt","month","year","Date","isNaN","length","getDate","getMonth","dateString","errmsg","now","convertDateString","parse","toDateString","errorMessage","prototype","getWeek","onejan","getFullYear","Math","ceil","getDay","getNumDay","start","diff","floor","getDiffDate","CurrDate","abs","seconds","max","minutes","hours","days","years","InfoDiffDate","state","numDay","numWeek","dateDiff","intervalId","setInterval","setState","clearInterval","React","Component","App","onChange","bind","e","proccesData","processingDateString","target","value","placeholder","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.54508c69.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nexport default function Error(props){\r\n\treturn <p className={\"error\"}>{props.message}</p>\r\n}","class DateDifference{\r\n\tconstructor(date){\r\n\t\tthis.date = date;\r\n\t};\r\n\tstatic convertDateString(stringData){\r\n\t\tlet dataDate = stringData.split('.');\r\n\t\t\r\n\t\tlet day = parseInt(dataDate[0]);\r\n\t\tlet month = parseInt(dataDate[1]);\r\n\t\tlet year = parseInt(dataDate[2]);\r\n\t\t\r\n\t\tlet date =  new Date(year, month - 1, day);\r\n\t\t\r\n\t\t//проверка на совпадение с форматом и на корректность даты\r\n\t\tif(date instanceof Date && !isNaN(date) && dataDate[0].length == 2 && day >=1 && day <=31 && date.getDate() == day && \r\n\t\tdataDate[1].length == 2 && month >=1 && month <=12 && date.getMonth() == month - 1 &&\r\n\t\tdataDate[2].length == 4)\r\n\t\t\treturn date;\r\n\t\telse\r\n\t\t\treturn null;\r\n\t}\r\n\tstatic processingDateString(dateString){\r\n\t\tlet errmsg = '';\r\n\t\tlet date = null;\r\n\t\t\r\n\t\tif(dateString != '')\r\n\t\t{\r\n\t\t\tlet now = new Date();\r\n\t\t\tdate = DateDifference.convertDateString(dateString);\r\n\t\t\t\r\n\t\t\tif(date != null)\r\n\t\t\t{\r\n\t\t\t\tif(now >= date)\r\n\t\t\t\t\terrmsg = 'Дата должна быть позже текущей';\r\n\t\t\t\tif(date >= new Date(Date.parse(new Date()) + 318211200004.2889 - 2678400000 ))\r\n\t\t\t\t{\r\n\t\t\t\t\tlet d = new Date(Date.parse(new Date()) + 318211200004.2889 - 2678400000 );\r\n\t\t\t\t\terrmsg = 'Разница между датами больше 10 лет. Максимальная дата: ' + d.toDateString();\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t\telse\r\n\t\t\t\terrmsg = 'Введите дату в корректном формате';\r\n\t\t}\r\n\t\tdate = errmsg == \"\" ? date : null;\r\n\t\treturn {errorMessage: errmsg, dataDate: date};\r\n\t}\r\n\t\r\n}\r\nDateDifference.prototype.getWeek = function(){\r\n\tvar onejan = new Date(this.date.getFullYear(),0,1);\r\n\tvar millisecsInDay = 86400000;\r\n\treturn Math.ceil((((this.date - onejan) /millisecsInDay) + onejan.getDay())/7);\r\n};\r\nDateDifference.prototype.getNumDay = function(){\r\n\tvar start = new Date(this.date.getFullYear(), 0, 0);\r\n\tvar diff = this.date - start;\r\n\tvar oneDay = 1000 * 60 * 60 * 24;\r\n\treturn Math.floor(diff / oneDay);\r\n};\r\nDateDifference.prototype.getDiffDate = function(CurrDate){\r\n\tvar diff = Math.abs(this.date - CurrDate);\r\n\treturn {\r\n\t\tseconds: Math.max(Math.ceil(diff / 1000 % 60 -1), 0),\r\n\t\tminutes: Math.max(Math.ceil(diff / 60000 % 60 -1),0),\r\n\t\thours: Math.max(Math.ceil(diff / 3600000 % 24 -1 ), 0),\r\n\t\tdays: Math.max(Math.ceil(diff / 86400000 % 365 -1  ), 0),\r\n\t\tyears: Math.max(Math.ceil(diff / 31536000000 -1),0)\r\n\t};\r\n};\r\nexport default DateDifference;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport DateDifference from './DateDifference.js';\r\n\r\nclass InfoDiffDate extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\r\n\t\tthis.date = new DateDifference(this.props.dataDate);\r\n\t\tthis.state = {numDay: this.date.getNumDay(), numWeek: this.date.getWeek(), dateDiff: this.date.getDiffDate(new Date())}\r\n\t\tthis.intervalId = null;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tsetInterval(() =>{\r\n\t\t\tthis.setState({dateDiff: this.date.getDiffDate(new Date())});\r\n\t\t}, 1000);\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.intervalId)\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn( \r\n\t\t\t<div className={\"info\"}>\r\n\t\t\t\t<p><b>Номер дня в году:</b> {this.state.numDay}</p>\r\n\t\t\t\t<p><b>Номер недели:</b> {this.state.numWeek}</p>\r\n\t\t\t\t<p><b>Разница с текущей датой:</b> {this.state.dateDiff.years} лет {this.state.dateDiff.days} дней {this.state.dateDiff.hours} часов {this.state.dateDiff.minutes} минут {this.state.dateDiff.seconds} секунд</p>;\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default InfoDiffDate;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Error from './components/Error';\nimport InfoDiffDate from './components/InfoDiffDate';\nimport DateDifference from './components/DateDifference.js';\nclass App extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {errorMessage: \"\", dataDate: null};\n\t\tthis.onChange = this.onChange.bind(this);\n\t}\n\tonChange(e){\t\n\t\tlet proccesData = DateDifference.processingDateString(e.target.value);\n\t\tthis.setState({errorMessage: proccesData.errorMessage});\n\t\tthis.setState({dataDate: proccesData.dataDate});\n\t}\n\trender(){\n\t  return (\n\t\t<div>\n\t\t\t<input className={\"input-date\"} placeholder=\"dd.mm.yyyy\" onChange={this.onChange}/>\n\t\t\t<div>\n\t\t\t\t{this.state.errorMessage != \"\" ? <Error message={this.state.errorMessage} /> :\n\t\t\t\tthis.state.dataDate != null ? <InfoDiffDate dataDate={this.state.dataDate} />: \"\"}\n\t\t\t</div>\n\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('app')\n);\n"],"sourceRoot":""}